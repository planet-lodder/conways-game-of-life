<!--
{% set data = presets[preset] if preset in presets else None %}
{% set version = req.query.get('engine', 'latest') if req else 'latest' %}
{% if data %}
-->
<link href="/game/engines/{{version}}/board.css" rel="stylesheet" />
<script src="/game/engines/{{version}}/engine.js"></script>
<script src="/game/engines/benchmark.js"></script>
<script>
  function autostart(game) {
    // Remove the auto start param
    let params = new URLSearchParams(window.location.search);
    params.delete('autostart')
    history.pushState(null, null, "?" + params.toString());

    // Start the game
    game.start()
  }
</script>
<div
  class="game-board flex flex-col flex-1 w-full justify-start"
  x-init="game = new GameEngine(view); started && autostart(game);"
  x-data="{ 
    view: new BenchmarkRenderer('.game-board', '.benchmark-fps', '.benchmark-title', '.benchmark-subtitle'),
    show_config: false, 
    started: (new URLSearchParams(window.location.search)).get('autostart') ? true : null,
  }"
  title="{{data.title}}"
  image="{{data.image}}"
  width="{{data.width}}"
  height="{{data.height}}"
  scale="{{data.scale}}"
  delay="0"
  wrapped="{{data.wrapped}}"
>
  {% include 'game/toolbar.html' %}
  <div class="flex flex-col flex-1 justify-center">
    <div class="flex flex-col w-full min-w-96 mx-auto space-y-2 text-center">
      <style>
        .metric {
        }

        .metric svg {
          width: 100%;
        }

        .metric path {
          stroke-width: 75;
          stroke: #ecf0f1;
          fill: none;
        }

        .metric text {
          font-family: "Lato", "Helvetica Neue", Helvetica, Arial, sans-serif;
        }

        .metric path.data-arc {
          stroke: #3498db;
        }

        .metric text {
          fill: #3498db;
        }
      </style>
      <div class="metric w-full">
        <svg viewBox="0 0 1000 500">
          <path d="M 950 500 A 450 450 0 0 0 50 500"></path>
          <path class="data-arc" d=""></path>
          <text
            class="benchmark-fps"
            text-anchor="middle"
            alignment-baseline="middle"
            x="500"
            y="300"
            font-size="140"
            font-weight="bold"
          ></text>
          <text
            class="benchmark-title"
            text-anchor="middle"
            alignment-baseline="middle"
            x="500"
            y="450"
            font-size="90"
            font-weight="normal"
          >Press Start</text>
        </svg>
      </div>
      <!--
      <div
        class="benchmark-timeline max-w-96 w-full h-20 space-x-1 flex flex-0 justify-end items-end border border-gray-200 dark:border-gray-700"
      >
        <div class="h-20 w-2 bg-blue-500"></div>
        <div class="h-16 w-2 bg-blue-500"></div>
        <div class="h-12 w-2 bg-blue-500"></div>
        <div class="h-20 w-2 bg-blue-500"></div>
        <div class="h-24 w-2 bg-blue-500"></div>
        <div class="h-20 w-2 bg-blue-500"></div>
        <div class="h-20 w-2 bg-blue-500"></div>
        <div class="h-20 w-2 bg-blue-500"></div>
        <div class="h-20 w-2 bg-blue-500"></div>
        <div class="h-20 w-2 bg-blue-500"></div>
        <div class="h-20 w-2 bg-blue-500"></div>
        <div class="h-20 w-2 bg-blue-500"></div>
        <div class="h-20 w-2 bg-blue-500"></div>
        <div class="h-20 w-2 bg-blue-500"></div>
        <div class="h-20 w-2 bg-blue-500"></div>
        <div class="h-20 w-2 bg-blue-500"></div>
        <div class="h-20 w-2 bg-blue-500"></div>
        <div class="h-20 w-2 bg-blue-500"></div>
        <div class="h-20 w-2 bg-blue-500"></div>
        <div class="h-20 w-2 bg-blue-500"></div>
        <div class="h-20 w-2 bg-blue-500"></div>
        <div class="h-20 w-2 bg-blue-500"></div>
      </div>
      -->
      <h4 class="benchmark-subtitle text-2xl font-bold dark:text-white"></h4>
    </div>
  </div>
</div>
<!-- {% endif %} -->
